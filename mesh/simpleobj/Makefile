
#Makefile generated by genmake.py (pknowles pyar.knowles@rmit.edu.au)
#Known Bugs: Not all source files/headers of sublibs (projects with their own
#makefile in subdirectories) are searched. Hence, the external library prediction
#does not always get all results

#check x64
ASFX=
LBITS := $(shell getconf LONG_BIT)
ifeq ($(LBITS),64)
ASFX=64
endif

NOOP = @$(SHELL) -c true

.PHONY=all,debug,echodeps,clean,cleaner

TARGET=libsimpleobj$(ASFX).a
CC=gcc
LD=ar
CFLAGS_R?=
CFLAGS= $(CFLAGS_R) -Wno-unused-parameter -Wno-unused-but-set-variable -Wall -Wextra -D_GNU_SOURCE -Wfatal-errors -std=c99
LFLAGS= -rcs 
SUBLIBS= 
OBJECTS= obj.o

all:  $(TARGET)

debug: CFLAGS+= -g
debug: export CFLAGS_R+= -g
debug: all

ALL_SUBLIBS= $(SUBLIBS)

echodeps:
	@echo $(ALL_SUBLIBS)

$(TARGET): $(SUBLIBS) $(OBJECTS)
	@echo linking $(TARGET) '$(CFLAGS_R)'
	@$(LD) -o $(TARGET) $(OBJECTS) $(ALL_SUBLIBS) $(LFLAGS)
obj.o: obj.c uthash.h obj.h
	@echo compiling obj.c
	@$(CC) -c -o obj.o $(CFLAGS) obj.c
clean:
	@echo cleaning $(TARGET)
	@rm -f obj.o
	@rm -f $(TARGET)
cleaner: clean









